{% extends "search_base.html" %}
{% block body_class %}tdata{% endblock %}

{% block main %}
    {% include "data/second_nav.html" %}
    <div id="contentHeader" class="interior">
        <h2>Transparency Data API</h2>
    </div>
    <div id="ltColumn">
	    {% block docs %}
        <div class="section" id="license">
            <h3>License</h3>
            <p>Data returned by this service is subject to the use restrictions set by the Federal Election Commission. By accessing this data, you understand that you are using the data subject to all applicable local, state and federal law, including FEC restrictions.</p>
            <p>All data licensed under the Creative Commons BY-NC-SA license. By downloading data and accessing the API you are agreeing to the terms of the license.</p>
            <p>Federal campaign contribution and lobbying records must be attributed to OpenSecrets.org.</p>
            <p>State campaign contribution records must be attributed to FollowTheMoney.org.</p>
        </div>
        <div class="section" id="authentication">
            <h3>Authentication</h3>
            <p>An API key is required to access the Transparency Data API. <a class="reference external" href="http://services.sunlightlabs.com/accounts/register/">Registration is easy</a> and if you already have a <a class="reference external" href="http://services.sunlightlabs.com/accounts/register/">Sunlight Data Services</a> key you can use it here.</p>
            <p>The API key <em>must</em> be an <tt class="docutils literal">apikey</tt> query string parameter. Example:</p>
            <pre class="literal-block">
    http://transparencydata.com/api/1.0/contributions.csv?apikey=&lt;key&gt;&amp;...
            </pre>
        </div>
        <div class="section" id="common-parameters">
            <h3>Common Parameters</h3>
            <p>These parameters are common to all API methods.</p>
            <dl class="docutils">
                <dt>apikey</dt>
                <dd>Required if the <tt class="docutils literal"><span class="pre">X-APIKEY</span></tt> HTTP header is not used.</dd>
            
                <dt class="clear">page</dt>
                <dd>The page of results to return; defaults to 1.</dd>
            
                <dt class="clear">per_page</dt>
                <dd>The number of results to return per page, defaults to 1,000. The maximum number of records per page is 100,000.</dd>
            </dl>
        </div>
		{% endblock %}
	</div>
	
	<div id="rtColumn">
	    <div class="section">
    		<h4>API Key</h4>
    		<p>
    			Register for an API key at <a href="http://services.sunlightlabs.com/accounts/register/">Sunlight Data Services</a>.
    			This key can be used to access all of the <a href="http://sunlightlabs.com">Sunlight Labs</a> data APIs.
    		</p>
    	</div>

        <div class="section">
    		<h4>General</h4>
    		<ul>
    			<li><a href="{% url api_index %}#license">License</a></li>
    			<li><a href="{% url api_index %}#authentication">Authentication</a></li>
    			<li><a href="{% url api_index %}#common-parameters">Common Parameters</a></li>
    		</ul>
    	</div>
    	<div class="section">
    		<h4>Methods</h4>
    		<ul>
    			<li><a href="{% url api_contributions %}">Campaign Contributions</a></li>
    			<li><a href="{% url api_lobbying %}">Federal Lobbying</a></li>
    			<li><a href="{% url api_grants %}">Federal Grants</a></li>
    			<li><a href="{% url api_contracts %}">Federal Contracts</a></li>
    			<li><a href="{% url api_aggregate_contributions %}">Aggregate Contributions</a></li>
    		</ul>
    	</div>

        <div class="section">
    		<h4>Client Libraries</h4>
    		<ul>
    			<li><a href="http://github.com/dqminh/transparencydata-php">PHP</a> by Dao Quang Minh</li>
    			<li><a href="http://github.com/sunlightlabs/python-transparencydata">Python</a></li>
    			<li><a href="http://github.com/pengwynn/transparency-data">Ruby</a> by Wynn Netherland and Luigi Montanez</li>
    		</ul>
    	</div>
	</div>    
{% endblock %}
